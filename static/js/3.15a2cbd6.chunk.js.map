{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/Film/Film.js","components/Pagination/Pagination.js","components/AllFIlms/AllFilms.js"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","Film","props","posterUrl","nameEn","rating","filmId","procentToNum","String","includes","slice","to","className","src","alt","Pagination","value","onChange","range","category","useParams","pattern","map","_","label","index","onClick","n","AllFilms","num","allFilms","useSelector","state","films","filmsLoadingStatus","pages","pagesCount","dispatch","useDispatch","pageNum","Number","useState","page","setPage","useEffect","fetchFilms","fetchSearchByWordsAllResult","elements","status","Preloader","style","color","el","renderFilmsArr"],"mappings":"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","file":"static/js/3.15a2cbd6.chunk.js","sourcesContent":["import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import './Film.css'\nimport {Link} from \"react-router-dom\";\n\n\n\nexport const Film = (props) => {\n    const {posterUrl,nameEn,rating,filmId} = props\n\n    const str = String(rating)\n    const procentToNum = str.includes(\"%\") ? rating.slice(0,2) / 10 : rating\n\n    return (\n        <Link to={`/about/${filmId}`} className=\"film\">\n            <img className='filmImg' src={posterUrl} alt=\"\"/>\n            <div className=\"filmTitle\">{nameEn ? nameEn.slice(0,15) : 'no name'}</div>\n            <div className={procentToNum >= 9 ? \"raitingBlock goldRaiting\" : \"raitingBlock\"}>{procentToNum}</div>\n        </Link>\n    )\n}","import './Pagination.css';\nimport {Link, useParams} from \"react-router-dom\";\n\n\n\nexport const Pagination = ({ value, onChange, range }) => {\n    const {category} = useParams()\n    let pattern = null;\n\n    switch (true) {\n        case range < 7:\n            pattern = [...new Array(range)].map((_, i) => i + 1);\n            break;\n        case value < 4:\n            pattern = [1, 2, 3, 4, 5, \"...\", range];\n            break;\n        case value > range - 4:\n            pattern = [1, \"...\", range - 4, range - 3, range - 2, range - 1, range];\n            break;\n        default:\n            pattern = [1, \"...\", value - 1, value, value + 1, \"...\", range];\n    }\n\n    function changeNumber(n) {\n        if (typeof n === \"number\" && n > 0 && n <= range) {\n            onChange(n);\n        }\n    }\n\n    return (\n        <div className=\"container\">\n            {/*<button disabled={value <= 1} onClick={() => changeNumber(value - 1)}>*/}\n            {/*    {\"<\"}*/}\n            {/*</button>*/}\n            {\n                pattern.map((label, index) => {\n                    if(label === '...') {\n                        return <span key={index} className='dots'>{label}</span>\n                    } else {\n                        return <Link\n                            to={`/films/${category}/${label}`}\n                            key={index}\n                            className={value === label ? \"pageNum pageNumActive\" : \"pageNum\"}\n                            onClick={() => changeNumber(label)}\n                        >\n                            {label}\n                        </Link>\n                    }\n                })\n            }\n            {/*<button disabled={value >= range} onClick={() => changeNumber(value + 1)}>*/}\n            {/*    {\">\"}*/}\n            {/*</button>*/}\n        </div>\n    )\n}","import './AllFilms.css'\nimport {Film} from \"../Film/Film\";\nimport {Preloader} from \"../Preloader/Preloader\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {useEffect, useState} from \"react\";\nimport {fetchFilms, fetchSearchByWordsAllResult} from \"../../redux/FilmsArrSlice\";\nimport {useParams} from \"react-router-dom\";\nimport {Pagination} from \"../Pagination/Pagination\";\n\n\n\nconst AllFilms = () => {\n    const {category,num} = useParams()\n\n    const allFilms = useSelector(state => state.allFilms.films.films)\n    const filmsLoadingStatus = useSelector(state => state.allFilms.filmsLoadingStatus)\n    const pages = useSelector(state => state.allFilms.films.pagesCount)\n    const dispatch = useDispatch()\n\n    const pageNum = Number(num)\n    const [page, setPage] = useState(pageNum);\n\n    useEffect(() => {\n        if(category.includes('TOP')) {\n            dispatch(fetchFilms({category, page}))\n        } else {\n            dispatch(fetchSearchByWordsAllResult({category, page}))\n        }\n        setPage(pageNum)\n    },[category,page,dispatch,pageNum])\n\n\n    const renderFilmsArr = (allFilms,status) => {\n        if (status === 'loading') {\n            return <Preloader/>\n        } else if (status === \"error\") {\n            return <p style={{color: 'white'}}>Ошибка загрузки</p>\n        }\n        if (allFilms && allFilms.length > 0) {\n            return allFilms.map((el, index) => (\n                <Film key={index} {...el}/>\n            ))\n        } else {\n            return <div className='nothing'>Nothing Found</div>\n        }\n    }\n\n    const elements = renderFilmsArr(allFilms,filmsLoadingStatus)\n\n    return (\n        <div className='allFilms'>\n            <div className=\"films\">\n                {elements}\n            </div>\n            <div className=\"pagination\">\n                {\n                    pages ? <Pagination value={page} range={pages} onChange={setPage}/> : ''\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default AllFilms;"],"sourceRoot":""}